<automaton name="mario">
  <param name="gravity" value="-30"/>
  <param name="x_speed" value="1000"/>
  <param name="x_acc" value="50"/>
  <param name="brake_acc" value="50"/>
  <collider>
    <type name="mario_body"/>
    <rect x="0" y="0" w="32" h="32"/>
  </collider>
  <group name="movement">
    <mode name="air">
      <edge target="ground">
        <guard>
          <colliding type="mario_body" othertype="wall"/> <!-- Implicitly: side="any" -->
        </guard>
      </edge>
    </mode>
    <mode name="ground">
      <edge target="air">
        <not>
          <guard>
            <colliding type="mario_body" othertype="wall"/> <!-- Implicitly: side="any" -->
          </guard>
        </not>
      </edge>
      <envelope ways="2">
        <control var="x'"/>
        <axis name="x"/>
        <!-- TODO: guard -->
        <attack acc="x_acc"/>
        <sustain level="x_speed"/>
        <release acc="brake_acc"/>
      </envelope>
    </mode>
  </group>
</automaton>
